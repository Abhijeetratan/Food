{"ast":null,"code":"import React,{useEffect,useState}from'react';import Footer from'../components/Footer';import Navbar from'../components/Navbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyOrder(){const[orderData,setOrderData]=useState({});const fetchMyOrder=async()=>{const userEmail=localStorage.getItem('userEmail');if(userEmail){try{const response=await fetch(\"/api/auth/myOrderData\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:userEmail})});const data=await response.json();setOrderData(data);}catch(error){console.error(\"Error fetching orders:\",error);}}};useEffect(()=>{fetchMyOrder();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:orderData&&orderData.orderData&&orderData.orderData.map(order=>/*#__PURE__*/_jsx(\"div\",{children:order.order_data&&order.order_data.map(_ref=>{let[orderItem,orderDate]=_ref;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto mt-5\",children:[orderDate&&/*#__PURE__*/_jsx(\"div\",{children:orderDate}),/*#__PURE__*/_jsx(\"hr\",{})]}),orderItem&&orderItem.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-3\",style:{width:\"16rem\",maxHeight:\"360px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:item.img,className:\"card-img-top\",alt:\"...\",style:{height:\"120px\",objectFit:\"fill\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100 p-0\",style:{height:\"38px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.qty}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:item.size}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:orderDate}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline ms-2 h-100 w-20 fs-5\",children:[\"\\u20B9\",item.price,\"/-\"]})]})]})]})},item.id))]},orderDate);})},order._id))})}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useEffect","useState","Footer","Navbar","jsx","_jsx","jsxs","_jsxs","MyOrder","orderData","setOrderData","fetchMyOrder","userEmail","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","email","data","json","error","console","children","className","map","order","order_data","_ref","orderItem","orderDate","item","style","width","maxHeight","src","img","alt","height","objectFit","name","qty","size","price","id","_id"],"sources":["C:/MERN/New folder/Food/backend/client/src/screens/MyOrder.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\n\r\nexport default function MyOrder() {\r\n\r\n    const [orderData, setOrderData] = useState({});\r\n\r\n    const fetchMyOrder = async () => {\r\n        const userEmail = localStorage.getItem('userEmail');\r\n        if (userEmail) {\r\n            try {\r\n                const response = await fetch(\"/api/auth/myOrderData\", {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        email: userEmail\r\n                    })\r\n                });\r\n                const data = await response.json();\r\n                setOrderData(data);\r\n            } catch (error) {\r\n                console.error(\"Error fetching orders:\", error);\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchMyOrder();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    {orderData && orderData.orderData && orderData.orderData.map(order => (\r\n                        <div key={order._id}>\r\n                            {order.order_data && order.order_data.map(([orderItem, orderDate]) => (\r\n                                <div key={orderDate}>\r\n                                    <div className='m-auto mt-5'>\r\n                                        {orderDate && <div>{orderDate}</div>}\r\n                                        <hr />\r\n                                    </div>\r\n                                    {orderItem && orderItem.map(item => (\r\n                                        <div key={item.id} className='col-12 col-md-6 col-lg-3'>\r\n                                            <div className=\"card mt-3\" style={{ width: \"16rem\", maxHeight: \"360px\" }}>\r\n                                                <img src={item.img} className=\"card-img-top\" alt=\"...\" style={{ height: \"120px\", objectFit: \"fill\" }} />\r\n                                                <div className=\"card-body\">\r\n                                                    <h5 className=\"card-title\">{item.name}</h5>\r\n                                                    <div className='container w-100 p-0' style={{ height: \"38px\" }}>\r\n                                                        <span className='m-1'>{item.qty}</span>\r\n                                                        <span className='m-1'>{item.size}</span>\r\n                                                        <span className='m-1'>{orderDate}</span>\r\n                                                        <div className='d-inline ms-2 h-100 w-20 fs-5'>\r\n                                                            â‚¹{item.price}/-\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}